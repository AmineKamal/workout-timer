(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"9v8Q":function(e,t,n){"use strict";n.r(t),n.d(t,"WeightTrackerPageModule",(function(){return W}));var i=n("ofXK"),o=n("3Pt+"),c=n("TEn/"),r=n("tyNb"),a=n("UFF1"),b=n("fXoL"),s=n("2MiI"),l=n("LmEr");function h(e,t){if(1&e&&(b.Ob(0,"ion-label"),b.mc(1),b.Nb()),2&e){const e=b.Zb();b.xb(1),b.nc(e.currentWeight)}}function g(e,t){if(1&e&&(b.Ob(0,"ion-label"),b.mc(1),b.Nb()),2&e){const e=b.Zb();b.xb(1),b.nc(e.hiddenWeight)}}function m(e,t){if(1&e){const e=b.Pb();b.Ob(0,"ion-icon",7),b.Wb("click",(function(){return b.gc(e),b.Zb().toggleHideWeight()})),b.Nb()}}function u(e,t){if(1&e){const e=b.Pb();b.Ob(0,"ion-icon",8),b.Wb("click",(function(){return b.gc(e),b.Zb().toggleHideWeight()})),b.Nb()}}function d(e,t){if(1&e){const e=b.Pb();b.Ob(0,"ion-card-content"),b.Ob(1,"ion-item",0),b.Ob(2,"ion-label",9),b.mc(3,"Calories"),b.Nb(),b.Ob(4,"ion-input",6),b.Wb("ngModelChange",(function(t){return b.gc(e),b.Zb().macros.calories=t})),b.Nb(),b.Nb(),b.Ob(5,"ion-item",0),b.Ob(6,"ion-label",9),b.mc(7,"Protein"),b.Nb(),b.Ob(8,"ion-input",6),b.Wb("ngModelChange",(function(t){return b.gc(e),b.Zb().macros.protein=t})),b.Nb(),b.Nb(),b.Ob(9,"ion-item",0),b.Ob(10,"ion-label",9),b.mc(11,"Fat"),b.Nb(),b.Ob(12,"ion-input",6),b.Wb("ngModelChange",(function(t){return b.gc(e),b.Zb().macros.fat=t})),b.Nb(),b.Nb(),b.Ob(13,"ion-item",0),b.Ob(14,"ion-label",9),b.mc(15,"Carbs"),b.Nb(),b.Ob(16,"ion-input",6),b.Wb("ngModelChange",(function(t){return b.gc(e),b.Zb().macros.carbs=t})),b.Nb(),b.Nb(),b.Ob(17,"ion-item",10),b.Wb("click",(function(){return b.gc(e),b.Zb().logMacros()})),b.Ob(18,"div",11),b.mc(19,"Save Macros"),b.Nb(),b.Nb(),b.Nb()}if(2&e){const e=b.Zb();b.xb(4),b.ec("ngModel",e.macros.calories),b.xb(4),b.ec("ngModel",e.macros.protein),b.xb(4),b.ec("ngModel",e.macros.fat),b.xb(4),b.ec("ngModel",e.macros.carbs)}}function f(e,t){if(1&e){const e=b.Pb();b.Ob(0,"ion-card-content"),b.Ob(1,"ion-item",0),b.Ob(2,"ion-label"),b.mc(3,"Calories"),b.Nb(),b.Ob(4,"ion-label"),b.mc(5),b.Nb(),b.Nb(),b.Ob(6,"ion-item",0),b.Ob(7,"ion-label"),b.mc(8,"Protein"),b.Nb(),b.Ob(9,"ion-label"),b.mc(10),b.Nb(),b.Nb(),b.Ob(11,"ion-item",0),b.Ob(12,"ion-label"),b.mc(13,"Fat"),b.Nb(),b.Ob(14,"ion-label"),b.mc(15),b.Nb(),b.Nb(),b.Ob(16,"ion-item",0),b.Ob(17,"ion-label"),b.mc(18,"Carbs"),b.Nb(),b.Ob(19,"ion-label"),b.mc(20),b.Nb(),b.Nb(),b.Ob(21,"ion-item",10),b.Wb("click",(function(){return b.gc(e),b.Zb().forceUpdateMacroForm()})),b.Ob(22,"div",11),b.mc(23,"Update Macros"),b.Nb(),b.Nb(),b.Nb()}if(2&e){const e=b.Zb();b.xb(5),b.nc(e.macros.calories),b.xb(5),b.nc(e.macros.protein),b.xb(5),b.nc(e.macros.fat),b.xb(5),b.nc(e.macros.carbs)}}const N=[{path:"",component:(()=>{class e{constructor(){this.showMacroForm=!1}ngOnInit(){var e;this.lossPercent=100*a.a.lossPercent,this.macros=a.a.macros;const t=this.macros;this.showMacroForm=!(t.calories&&t.protein&&t.fat&&t.carbs),this.currentWeight=null!==(e=a.a.weights[a.a.weights.length-1])&&void 0!==e?e:"-",this.hideWeight=a.a.hideWeight}toggleHideWeight(){this.hideWeight=!this.hideWeight,a.a.hideWeight=this.hideWeight,a.a.save("hideWeight")}forceUpdateMacroForm(){this.showMacroForm=!0}get hiddenWeight(){return this.currentWeight.toString().split("").map(()=>"*").join("")}logMacros(){const e=this.macros;this.showMacroForm=!(e.calories&&e.protein&&e.fat&&e.carbs),a.a.save("macros")}logWeight(){if(!this.newWeight)return;const e=this.newWeight,t=a.a.macros;if(t.calories&&t.protein&&t.fat&&t.carbs){const n=a.a.weights[a.a.weights.length-1];if(n){const i=n-this.lossPercent/100*n;console.log(this.lossPercent,i,n),a.a.macros=this.adjustMacros(t,i,e),a.a.save("macros"),this.macros=a.a.macros}}a.a.update("weights",t=>t.push(e)),this.currentWeight=a.a.weights[a.a.weights.length-1],this.newWeight=void 0}updateFatLoss(){const e=this.lossPercent/100,t=a.a.macros;this.currentWeight&&"number"==typeof this.currentWeight&&t.calories&&t.protein&&t.fat&&t.carbs&&(a.a.macros=this.adjustMacros(t,this.currentWeight-e*this.currentWeight,this.currentWeight-a.a.lossPercent*this.currentWeight),a.a.save("macros"),this.macros=a.a.macros),a.a.lossPercent=e,a.a.save("lossPercent")}adjustMacros(e,t,n){const i=t-n,{calories:o,protein:c,fat:r,carbs:a}=e;console.log(o,i);const b=o+500*i,s=b/o,l=c*s,h=r*s,g=a*s;return{calories:Math.round(b),fat:Math.round(h),carbs:Math.round(g),protein:Math.round(l)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b.Db({type:e,selectors:[["app-weight-tracker"]],decls:39,vars:8,consts:[["lines","full"],[4,"ngIf"],["name","eye-outline","color","primary",3,"click",4,"ngIf"],["name","eye-off-outline","color","primary",3,"click",4,"ngIf"],["placeholder","New Weight","type","number",3,"ngModel","ngModelChange"],["slot","end",3,"click"],["type","number",3,"ngModel","ngModelChange"],["name","eye-outline","color","primary",3,"click"],["name","eye-off-outline","color","primary",3,"click"],["position","floating"],["color","primary","button","","detail","false",3,"click"],[2,"width","100%","height","100%","display","flex","justify-content","center","align-items","center"]],template:function(e,t){1&e&&(b.Ob(0,"app-header"),b.Ob(1,"ion-title"),b.mc(2," Weight Tracker "),b.Nb(),b.Nb(),b.Ob(3,"ion-content"),b.Ob(4,"ion-card"),b.Ob(5,"ion-card-header"),b.Ob(6,"ion-card-title"),b.mc(7,"Weight"),b.Nb(),b.Nb(),b.Ob(8,"ion-card-content"),b.Ob(9,"ion-item",0),b.Ob(10,"ion-label"),b.mc(11,"Current Weight"),b.Nb(),b.lc(12,h,2,1,"ion-label",1),b.lc(13,g,2,1,"ion-label",1),b.lc(14,m,1,0,"ion-icon",2),b.lc(15,u,1,0,"ion-icon",3),b.Nb(),b.Ob(16,"ion-item",0),b.Ob(17,"ion-input",4),b.Wb("ngModelChange",(function(e){return t.newWeight=e})),b.Nb(),b.Ob(18,"ion-button",5),b.Wb("click",(function(){return t.logWeight()})),b.mc(19," Log Weight "),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(20,"ion-card"),b.Ob(21,"ion-card-header"),b.Ob(22,"ion-card-title"),b.mc(23,"Fat Loss"),b.Nb(),b.Nb(),b.Ob(24,"ion-card-content"),b.Ob(25,"ion-item",0),b.Ob(26,"ion-label"),b.mc(27,"Weekly Fat Loss target (%)"),b.Nb(),b.Nb(),b.Ob(28,"ion-item",0),b.Ob(29,"ion-input",6),b.Wb("ngModelChange",(function(e){return t.lossPercent=e})),b.Nb(),b.Ob(30,"ion-button",5),b.Wb("click",(function(){return t.updateFatLoss()})),b.mc(31," Update "),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(32,"ion-card"),b.Ob(33,"ion-card-header"),b.Ob(34,"ion-card-title"),b.mc(35,"Macros"),b.Nb(),b.Nb(),b.lc(36,d,20,4,"ion-card-content",1),b.lc(37,f,24,4,"ion-card-content",1),b.Nb(),b.Nb(),b.Kb(38,"app-footer")),2&e&&(b.xb(12),b.ec("ngIf",!t.hideWeight),b.xb(1),b.ec("ngIf",t.hideWeight),b.xb(1),b.ec("ngIf",!t.hideWeight),b.xb(1),b.ec("ngIf",t.hideWeight),b.xb(2),b.ec("ngModel",t.newWeight),b.xb(12),b.ec("ngModel",t.lossPercent),b.xb(7),b.ec("ngIf",t.showMacroForm),b.xb(1),b.ec("ngIf",!t.showMacroForm))},directives:[s.a,c.F,c.k,c.f,c.h,c.i,c.g,c.s,c.w,i.i,c.r,c.L,o.d,o.e,c.d,l.a,c.q],styles:[""]}),e})()}];let O=(()=>{class e{}return e.\u0275mod=b.Hb({type:e}),e.\u0275inj=b.Gb({factory:function(t){return new(t||e)},imports:[[r.i.forChild(N)],r.i]}),e})();var p=n("j1ZV");let W=(()=>{class e{}return e.\u0275mod=b.Hb({type:e}),e.\u0275inj=b.Gb({factory:function(t){return new(t||e)},imports:[[i.b,o.a,c.I,p.a,O]]}),e})()}}]);